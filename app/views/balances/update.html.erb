Tricky JS magic going on here man